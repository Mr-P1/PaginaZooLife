<div class="container mx-auto p-4">
  <h2 class="text-2xl font-semibold text-white mb-6">Modificar Evento</h2>

  <!-- Formulario de Modificación de Evento -->
  <form [formGroup]="form" (ngSubmit)="actualizar()">
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6">

      <!-- Nombre del Evento -->
      <div>
        <label for="nombre_evento" class="block mb-2 text-sm font-medium text-white">Nombre del Evento</label>
        <input
          type="text"
          id="nombre_evento"
          formControlName="nombre_evento"
          class="border text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white"
          placeholder="Nombre del Evento"
        />
        <div *ngIf="form.get('nombre_evento')?.touched && form.get('nombre_evento')?.invalid" class="text-sm text-red-600">
          <span *ngIf="form.get('nombre_evento')?.errors?.['required']">Este campo es obligatorio</span>
        </div>
      </div>

      <!-- Fecha de Inicio -->
      <div>
        <label for="fecha_inicio" class="block mb-2 text-sm font-medium text-white">Fecha de Inicio</label>
        <input
          type="date"
          id="fecha_inicio"
          formControlName="fecha_inicio"
          class="border text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white"
        />
        <div *ngIf="form.get('fecha_inicio')?.touched && form.get('fecha_inicio')?.invalid" class="text-sm text-red-600">
          <span *ngIf="form.get('fecha_inicio')?.errors?.['required']">Este campo es obligatorio</span>
        </div>
      </div>

      <!-- Fecha de Término -->
      <div>
        <label for="fecha_termino" class="block mb-2 text-sm font-medium text-white">Fecha de Término</label>
        <input
          type="date"
          id="fecha_termino"
          formControlName="fecha_termino"
          class="border text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white"
        />
        <div *ngIf="form.get('fecha_termino')?.touched && form.get('fecha_termino')?.invalid" class="text-sm text-red-600">
          <span *ngIf="form.get('fecha_termino')?.errors?.['required']">Este campo es obligatorio</span>
        </div>
      </div>

      <!-- Lugar -->
      <div>
        <label for="lugar" class="block mb-2 text-sm font-medium text-white">Lugar</label>
        <input
          type="text"
          id="lugar"
          formControlName="lugar"
          class="border text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white"
          placeholder="Lugar del Evento"
        />
        <div *ngIf="form.get('lugar')?.touched && form.get('lugar')?.invalid" class="text-sm text-red-600">
          <span *ngIf="form.get('lugar')?.errors?.['required']">Este campo es obligatorio</span>
        </div>
      </div>

      <!-- Estado del Evento -->
      <div>
        <label for="estado" class="block mb-2 text-sm font-medium text-white">Estado</label>
        <select
          id="estado"
          formControlName="estado"
          class="border text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white"
        >
          <option value="activo">Activo</option>
          <option value="inactivo">Inactivo</option>
        </select>
      </div>

      <!-- Descripción -->
      <div class="col-span-2">
        <label for="descripcion" class="block mb-2 text-sm font-medium text-white">Descripción</label>
        <textarea
          id="descripcion"
          formControlName="descripcion"
          rows="5"
          class="border text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 bg-gray-700 border-gray-600 placeholder-gray-400 text-white"
          placeholder="Descripción del Evento"
        ></textarea>
        <div *ngIf="form.get('descripcion')?.touched && form.get('descripcion')?.invalid" class="text-sm text-red-600">
          <span *ngIf="form.get('descripcion')?.errors?.['required']">Este campo es obligatorio</span>
        </div>
      </div>

      <!-- Imagen -->
      <div class="col-span-2">
        <label for="imagen" class="block mb-2 text-sm font-medium text-white">Imagen del Evento</label>
        <input
          type="file"
          id="imagen"
          accept=".png, .jpg"
          (change)="cargarFoto($event)"
          class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border file:text-sm file:font-medium hover:file:bg-blue-500 hover:file:text-white"
        />
        <div *ngIf="imagenCargando" class="text-sm text-gray-400">Cargando imagen...</div>
        <div *ngIf="form.get('imagen')?.touched && form.get('imagen')?.invalid" class="text-sm text-red-600">
          <span *ngIf="form.get('imagen')?.errors?.['required']">Este campo es obligatorio</span>
        </div>
      </div>
    </div>

    <!-- Botón para Guardar -->
    <div class="flex justify-end">
      <button
        [disabled]="loading()"
        type="submit"
        class="bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg text-sm px-5 py-2.5"
      >
        {{ loading() ? "Guardando..." : "Guardar Cambios" }}
      </button>
    </div>
  </form>

  <!-- Botón para Eliminar -->
  <div class="mt-6 flex justify-end">
    <button
      [disabled]="loading2()"
      (click)="borrarEvento()"
      class="bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg text-sm px-5 py-2.5"
    >
      {{ loading2() ? "Eliminando..." : "Eliminar Evento" }}
    </button>
  </div>
</div>
